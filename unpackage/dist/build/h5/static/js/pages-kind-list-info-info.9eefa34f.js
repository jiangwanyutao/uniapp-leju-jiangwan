(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-kind-list-info-info"],{"0aad":function(t,i,e){"use strict";e.r(i);var n=e("fc5f"),s=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(i,t,(function(){return n[t]}))}(a);i["default"]=s.a},"24ce":function(t,i,e){var n=e("24fb");i=n(!1),i.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.info .swiper[data-v-4ecf3bcd]{width:100%;height:317px}.info .swiper uni-image[data-v-4ecf3bcd]{width:100%;height:317px}.info .icon[data-v-4ecf3bcd]{position:fixed;top:50%;left:80%;width:50px;height:50px;background-color:#354e44;text-align:center;line-height:50px;border-radius:50%}.info .shops[data-v-4ecf3bcd]{display:flex;padding:25px 34px;color:red}.info .shops .price[data-v-4ecf3bcd]{display:flex;justify-content:center;align-items:baseline;width:80px}.info .shops .price .price-a[data-v-4ecf3bcd]{font-size:28px}.info .shops .yuan[data-v-4ecf3bcd]{width:110px;height:17px;text-align:center;line-height:17px;background-color:red;color:#fff;font-size:10px;margin:auto 10px}.info .name[data-v-4ecf3bcd]{padding:0 0 0 34px;color:#262626;overflow:hidden;font-size:16px;font-weight:700}.info .namea[data-v-4ecf3bcd]{padding:10px 10px 0 34px;font-size:11px}.info[data-v-4ecf3bcd]  ._block{display:flex;width:80%;flex-direction:column;align-content:center;justify-content:center;padding:34px}.info[data-v-4ecf3bcd]  ._block ::v-deep ._img{width:107px;height:107px}.info .goods-nav[data-v-4ecf3bcd]{position:fixed;justify-content:space-around;align-items:center;bottom:0;display:flex;width:100%;height:60px;line-height:60px;background-color:#fff;padding-bottom:10px}.info .goods-nav .buy-btns[data-v-4ecf3bcd]{display:flex;width:238px;height:40px;margin-top:10px;font-size:15px;line-height:40px;text-align:center;background-color:#354e44;text-align:center}.info .goods-nav .buy-btns .btn-goods-cart[data-v-4ecf3bcd]{width:119px;background-color:#e2e2e2;color:#8f8f94}.info .goods-nav .buy-btns .btn-goods-buy[data-v-4ecf3bcd]{width:119px;color:#fff}.info .sku-main[data-v-4ecf3bcd]{position:fixed;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.5);z-index:888}.info .sku-main .card[data-v-4ecf3bcd]{position:absolute;left:50%;top:114px;margin-left:-157px;width:314px;height:463px;background:#fff;border-radius:40px;border-radius:40px;border-radius:20px}.info .sku-main .card .icons[data-v-4ecf3bcd]{float:right;margin-top:30px;margin-right:30px}.info .sku-main .card .img[data-v-4ecf3bcd]{position:absolute;width:96px;height:96px;background-color:pink;left:31px;top:-28px;border-radius:5px}.info .sku-main .card .name[data-v-4ecf3bcd]{font-size:14px;color:#3e3e3e;margin-left:116px;margin-top:42px;font-weight:600;width:130px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.info .sku-main .card .count[data-v-4ecf3bcd]{font-size:12px;color:#b0b0b0;margin-top:3px;line-height:16px;margin-left:152px}.info .sku-main .card .title[data-v-4ecf3bcd]{box-sizing:border-box;margin:14px 28px;font-size:14px;color:#3e3e3e;line-height:20px;letter-spacing:2px;font-weight:600}.info .sku-main .card .active[data-v-4ecf3bcd]{display:flex;box-sizing:border-box;border:2px solid transparent;float:left;width:80%;padding-left:5px;height:30px;color:#3e3e3e;font-size:13px;text-align:center;line-height:30px;background:#f2f4f3;border-radius:10px;margin:5px 30px;border:2px #354e44 solid}.info .sku-main .card .color-item[data-v-4ecf3bcd]{display:flex;box-sizing:border-box;border:2px solid transparent;float:left;width:80%;padding-left:5px;height:30px;color:#3e3e3e;font-size:13px;text-align:center;line-height:30px;background:#f2f4f3;border-radius:10px;margin:5px 30px}.info .sku-main .card .color-item .items[data-v-4ecf3bcd]{width:100%;margin-left:10px}.info .sku-main .card .works[data-v-4ecf3bcd]{width:80%;margin:5px 30px}.info .sku-main .card .works .work-item[data-v-4ecf3bcd]{width:100%;height:30px;color:#3e3e3e;font-size:13px;text-align:center;line-height:30px;background:#f2f4f3;border-radius:10px;border-radius:10px;margin:5px auto;text-align:left;text-indent:1em}.info .sku-main .card .nine[data-v-4ecf3bcd]{width:265px;height:1px;background-color:#f2f4f3;margin:18px auto}.info .sku-main .card .buy[data-v-4ecf3bcd]{width:80%;margin:5px 30px;display:flex;justify-content:space-between}.info .sku-main .card .buy .buysteps[data-v-4ecf3bcd]{display:flex}.info .sku-main .card .buy .buysteps .step-reduce[data-v-4ecf3bcd]{width:30px;height:30px;background:#f1ece7;border-radius:50%;text-align:center;line-height:30px;font-size:15px;margin:0 3px}.info .sku-main .card .buy .buysteps .step-text[data-v-4ecf3bcd]{width:45px;border-radius:15px;width:30px;height:30px;background:#f1ece7;border-radius:50%;text-align:center;line-height:30px;font-size:15px;margin:0 3px}.info .sku-main .card .buy .buysteps .step-add[data-v-4ecf3bcd]{width:30px;height:30px;background:#f1ece7;border-radius:50%;text-align:center;line-height:30px;font-size:15px;margin:0 3px}.info .sku-main .card .btn[data-v-4ecf3bcd]{width:104px;height:40px;background:#354e44;border-radius:14px;border-radius:14px;margin:24px auto;color:#fff;font-size:16px;text-align:center;line-height:40px}',""]),t.exports=i},"4c52":function(t,i,e){"use strict";var n=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.productDetail=a,i.addCart=o;var s=n(e("edf2"));function a(t){return(0,s.default)({url:"/lejuClient/product/productDetail/".concat(t)})}function o(t){return(0,s.default)({url:"/lejuClient/cart/addCart",method:"post",data:t})}},"655d":function(t,i,e){"use strict";e.r(i);var n=e("fc56"),s=e("0aad");for(var a in s)"default"!==a&&function(t){e.d(i,t,(function(){return s[t]}))}(a);e("9a40");var o,c=e("f0c5"),d=Object(c["a"])(s["default"],n["b"],n["c"],!1,null,"4ecf3bcd",null,!1,n["a"],o);i["default"]=d.exports},"9a40":function(t,i,e){"use strict";var n=e("f884"),s=e.n(n);s.a},dada:function(t,i,e){"use strict";var n=e("4ea4");Object.defineProperty(i,"__esModule",{value:!0}),i.findAllCartItem=a,i.delCartItems=o,i.addPreOrder=c;var s=n(e("edf2"));function a(){return(0,s.default)({url:"/lejuClient/cart/findAllCartItem"})}function o(t){return(0,s.default)({url:"/lejuClient/cart/delCartItems",method:"post",data:t})}function c(t){return(0,s.default)({url:"/lejuClient/order/addPreOrder",method:"post",data:t})}},f24e:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n={methods:{checkLogin:function(){var t=uni.getStorageSync("token");return!!t||(uni.showModal({title:"登录提示",content:"暂未登录，是否跳转到登录界面",success:function(t){t.confirm?uni.navigateTo({url:"/pages/mine/login/login"}):t.cancel&&(console.log("用户点击取消"),uni.showToast({title:"您取消了",icon:"error"}))}}),!1)}}},s=n;i.default=s},f884:function(t,i,e){var n=e("24ce");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var s=e("4f06").default;s("2e9b93e8",n,!0,{sourceMap:!1,shadowMode:!1})},fc56:function(t,i,e){"use strict";e.d(i,"b",(function(){return s})),e.d(i,"c",(function(){return a})),e.d(i,"a",(function(){return n}));var n={uniIcons:e("08a0").default,mpHtml:e("b2f2").default},s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"info"},[e("v-uni-swiper",{staticClass:"swiper",attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,circular:!0}},t._l(t.banner,(function(t){return e("v-uni-swiper-item",[e("v-uni-view",{staticClass:"swiper-item"},[e("v-uni-image",{attrs:{src:t}})],1)],1)})),1),e("v-uni-view",{staticClass:"icon"},[e("uni-icons",{attrs:{type:"star",color:t.isCollected?"red":"",size:"30"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.collected.apply(void 0,arguments)}}})],1),e("v-uni-view",{staticClass:"shops"},[e("v-uni-view",{staticClass:"price"},[e("v-uni-view",{staticClass:"price-a"},[t._v(t._s(t.list.price))]),t._v(".00")],1),e("v-uni-view",{staticClass:"yuan"},[t._v("没有促销使用原价")])],1),e("v-uni-view",{staticClass:"name"},[t._v(t._s(t.list.name))]),e("v-uni-view",{staticClass:"namea"},[t._v(t._s(t.list.description))]),e("mp-html",{attrs:{content:t.list.detailMobileHtml}}),e("v-uni-view",{staticClass:"goods-nav"},[e("uni-icons",{attrs:{type:"headphones",size:"30"}}),e("v-uni-view",{staticClass:"buy-btns"},[e("v-uni-view",{staticClass:"btn-goods-cart",attrs:{"data-index":"0"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.masks(i)}}},[t._v("添加到购物车")]),e("v-uni-view",{staticClass:"btn-goods-buy",attrs:{"data-index":"1"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.masks(i)}}},[t._v("立即购买")])],1)],1),t.mask?e("v-uni-view",{staticClass:"sku-main",on:{touchmove:function(i){i.stopPropagation(),i.preventDefault(),arguments[0]=i=t.$handleEvent(i)}}},[e("v-uni-view",{staticClass:"card"},[e("uni-icons",{staticClass:"icons",attrs:{type:"close",size:"30"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}}),t.skushow?e("v-uni-image",{staticClass:"img",attrs:{src:t.skuList.pic}}):t._e(),t.spushow?e("v-uni-image",{staticClass:"img",attrs:{src:t.spulist.pic}}):t._e(),e("v-uni-view",{staticClass:"name"},[t._v(t._s(t.list.name))]),t.skushow?e("v-uni-view",{staticClass:"count"},[t._v("库存数量:"+t._s(t.skuList.stock))]):t._e(),t.spushow?e("v-uni-view",{staticClass:"count"},[t._v("库存数量:"+t._s(t.spulist.stock))]):t._e(),e("v-uni-view",{staticClass:"title"},[t._v("商品选择")]),e("v-uni-view",{class:0==t.num?"active":"color-item"},t._l(t.skuList.spData,(function(i){return e("v-uni-view",{key:i.id,staticClass:"num==0?'items':'active'",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.listitem(i.id)}}},[t._v(t._s(i.key)+":"+t._s(i.value))])})),1),e("v-uni-view",{class:1==t.num?"active":"color-item"},t._l(t.spulist.spData,(function(i){return e("v-uni-view",{key:i.id,staticClass:"num==1?'items':'active'",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.spuitem(i.id)}}},[t._v(t._s(i.key)+":"+t._s(i.value))])})),1),e("v-uni-view",{staticClass:"title"},[t._v("特色服务")]),e("v-uni-view",{staticClass:"works"},[e("v-uni-view",{staticClass:"work-item"},[t._v("送货上门")]),e("v-uni-view",{staticClass:"work-item"},[t._v("上门安装")])],1),e("v-uni-view",{staticClass:"nine"}),e("v-uni-view",{staticClass:"buy"},[e("v-uni-view",{staticClass:"buytitle"},[t._v("购买数量")]),e("v-uni-view",{staticClass:"buysteps"},[e("v-uni-view",{staticClass:"step-reduce",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.stepreduce.apply(void 0,arguments)}}},[t._v("-")]),e("v-uni-view",{staticClass:"step-text"},[t._v(t._s(t.index))]),e("v-uni-view",{staticClass:"step-add",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.stepadd.apply(void 0,arguments)}}},[t._v("+")])],1)],1),e("v-uni-view",{staticClass:"btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.submitList.apply(void 0,arguments)}}},[t._v("确定")])],1)],1):t._e()],1)},a=[]},fc5f:function(t,i,e){"use strict";var n=e("4ea4");e("7db0"),e("c740"),e("4160"),e("a434"),e("ac1f"),e("1276"),e("159b"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var s=e("4c52"),a=e("dada"),o=n(e("f24e")),c={mixins:[o.default],data:function(){return{id:"",list:[],isCollected:!1,skuList:[],spulist:[],num:0,mask:!1,skushow:!0,spushow:!1,submit:"",skuId:"",index:1}},computed:{banner:function(){return this.list.albumPics?this.list.albumPics.split(","):[]}},methods:{init:function(){var t=this;(0,s.productDetail)(this.id).then((function(i){console.log(i),t.list=i.data.product,i.data.product.skuList.forEach((function(t){t.spData=JSON.parse(t.spData)}));for(var e=i.data.product.skuList,n=0;n<e.length-1;n++)t.skuList=e[n];t.skuId=t.skuList.id;for(n=1;n<e.length;n++)t.spulist=e[n];uni.setNavigationBarTitle({title:i.data.product.name})}))},collected:function(){var t=this,i=uni.getStorageSync("collectedList");if(i){var e=i.find((function(i){return i==t.list})),n=i.findIndex((function(i){return i==t.list}));e?(i.splice(n,1),uni.setStorageSync("collectedList",i),this.isCollected=!1):(i.push(this.list),uni.setStorageSync("collectedList",i),this.isCollected=!0)}else uni.setStorageSync("collectedList",[this.list]),this.isCollected=!0},masks:function(t){console.log("点击了蒙层"),this.mask=!0,this.submit=t.currentTarget.dataset.index,console.log(this.submit)},close:function(){this.mask=!1},listitem:function(t){this.skushow=!0,this.spushow=!1,this.num=0,this.skuId=t},spuitem:function(t){this.skushow=!1,this.spushow=!0,this.num=1,this.skuId=t},stepreduce:function(){this.index<=0?this.index:this.index--},stepadd:function(){this.index>=0&&this.index++},submitList:function(){var t=this;if(0==this.submit)(0,s.addCart)({productId:this.id,productSkuId:this.skuId,quantity:this.index}).then((function(i){console.log("添加购车",i),0==i.success?t.checkLogin():uni.showToast({title:"添加成功"})}));else{var i={orderItemList:[{productId:this.id,productQuantity:this.index,productSkuId:this.skuId}]};(0,a.addPreOrder)(i).then((function(t){console.log(t),t.success&&(uni.showToast({title:"购买成功,1s后跳转到订单确认页",icon:"none"}),setTimeout((function(){uni.navigateTo({url:"/pages/order/order?id=".concat(t.data.orderId)})}),1e3))}))}}},onLoad:function(t){this.id=t.id,this.init();var i=uni.getStorageSync("collectedList");if(i){var e=i.find((function(i){return i==t.id}));this.isCollected=!!e}else this.isCollected=!1},onShow:function(){this.checkLogin(this.init())}};i.default=c}}]);